---
import '../styles/global.css';

export interface Props {
  title: string;
  description?: string;
  canonical?: string;
  noindex?: boolean;
}

const { title, description = 'JD Fortress AI â€” Secure on-premises AI solutions for UK businesses.', canonical, noindex } = Astro.props;
const canonicalUrl = canonical || new URL(Astro.url.pathname, 'https://jdfortress.com').href;
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{title}</title>
  <meta name="description" content={description} />
  <link rel="canonical" href={canonicalUrl} />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg?v=2" />
  <link rel="apple-touch-icon" href="/logo-navy.png" />
  <meta property="og:title" content={title} />
  <meta property="og:description" content={description} />
  <meta property="og:type" content="website" />
  {noindex && <meta name="robots" content="noindex, nofollow" />}
</head>
<body style="background:#fff; color:#0D141A; margin:0; padding:0;">

  <!-- NAV -->
  <nav style="background:#0F2041; position:sticky; top:0; z-index:50; border-bottom:1px solid rgba(255,255,255,0.08);">
    <div style="max-width:1200px; margin:0 auto; padding:0 24px; display:flex; align-items:center; justify-content:space-between; height:64px;">

      <a href="/" style="display:flex; align-items:center; gap:10px; text-decoration:none;">
        <img src="/logo-white.png" alt="JD Fortress AI" style="height:36px; width:auto;" />
        <span style="color:#fff; font-weight:700; font-size:1.1rem; letter-spacing:-0.02em;">JD Fortress AI</span>
      </a>

      <!-- Desktop nav -->
      <div class="desktop-nav" style="display:flex; align-items:center; gap:32px;">
        <div style="position:relative; display:inline-block;" class="dropdown-wrap">
          <a href="/solutions/law-firms" style="color:rgba(255,255,255,0.8); text-decoration:none; font-size:0.95rem; font-weight:500; transition:color 0.2s;"
             onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.8)'">Legal Teams â–¾</a>
          <div class="dropdown" style="display:none; position:absolute; top:100%; left:0; background:#0F2041; border:1px solid rgba(255,255,255,0.12); border-radius:8px; padding:8px 0; min-width:180px; margin-top:8px; box-shadow:0 8px 32px rgba(0,0,0,0.4);">
            <a href="/solutions/law-firms" style="display:block; padding:10px 20px; color:rgba(255,255,255,0.8); text-decoration:none; font-size:0.9rem; transition:background 0.15s;"
               onmouseover="this.style.background='rgba(255,255,255,0.08)'" onmouseout="this.style.background='transparent'">Law Firms &amp; In-House Legal</a>
          </div>
        </div>
        <a href="/labs" style="color:rgba(255,255,255,0.8); text-decoration:none; font-size:0.95rem; font-weight:500;"
           onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.8)'">Labs</a>
        <a href="/about" style="color:rgba(255,255,255,0.8); text-decoration:none; font-size:0.95rem; font-weight:500;"
           onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.8)'">About</a>
        <a href="/blog" style="color:rgba(255,255,255,0.8); text-decoration:none; font-size:0.95rem; font-weight:500;"
           onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.8)'">Blog</a>
        <a href="/contact" style="background:#1E6FF5; color:#fff; padding:9px 20px; border-radius:6px; text-decoration:none; font-size:0.9rem; font-weight:600; transition:background 0.2s;"
           onmouseover="this.style.background='#1558cc'" onmouseout="this.style.background='#1E6FF5'">Get in Touch â†’</a>
      </div>

      <!-- Mobile hamburger -->
      <button id="menu-btn" onclick="toggleMenu()" style="display:none; background:none; border:none; cursor:pointer; padding:8px;" aria-label="Menu">
        <div style="width:24px; height:2px; background:#fff; margin:5px 0; transition:all 0.3s;"></div>
        <div style="width:24px; height:2px; background:#fff; margin:5px 0; transition:all 0.3s;"></div>
        <div style="width:24px; height:2px; background:#fff; margin:5px 0; transition:all 0.3s;"></div>
      </button>
    </div>

    <!-- Mobile menu -->
    <div id="mobile-menu" style="display:none; background:#0F2041; padding:16px 24px; border-top:1px solid rgba(255,255,255,0.08);">
      <a href="/solutions/law-firms" style="display:block; color:rgba(255,255,255,0.8); text-decoration:none; padding:12px 0; border-bottom:1px solid rgba(255,255,255,0.06); font-size:0.95rem;">Legal Teams</a>
      <a href="/labs" style="display:block; color:rgba(255,255,255,0.8); text-decoration:none; padding:12px 0; border-bottom:1px solid rgba(255,255,255,0.06); font-size:0.95rem;">Labs</a>
      <a href="/about" style="display:block; color:rgba(255,255,255,0.8); text-decoration:none; padding:12px 0; border-bottom:1px solid rgba(255,255,255,0.06); font-size:0.95rem;">About</a>
      <a href="/blog" style="display:block; color:rgba(255,255,255,0.8); text-decoration:none; padding:12px 0; border-bottom:1px solid rgba(255,255,255,0.06); font-size:0.95rem;">Blog</a>
      <a href="/contact" style="display:block; background:#1E6FF5; color:#fff; text-decoration:none; padding:12px 20px; border-radius:6px; font-weight:600; text-align:center; margin-top:12px;">Get in Touch â†’</a>
    </div>
  </nav>

  <slot />

  <!-- FOOTER -->
  <footer style="background:#0A0D1A; color:#fff; padding:64px 24px 32px;">
    <div style="max-width:1200px; margin:0 auto;">
      <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:48px; margin-bottom:48px;">

        <!-- Brand -->
        <div>
          <div style="display:flex; align-items:center; gap:10px; margin-bottom:16px;">
            <img src="/logo-white.png" alt="JD Fortress AI" style="height:32px; width:auto;" />
            <span style="font-weight:700; font-size:1rem;">JD Fortress AI</span>
          </div>
          <p style="color:rgba(255,255,255,0.5); font-size:0.9rem; line-height:1.7; margin:0 0 20px;">Your Data. Your AI. Your Fortress.</p>
          <div style="display:flex; gap:16px;">
            <a href="https://www.linkedin.com/company/jd-fotress-ai-limited/" target="_blank" rel="noopener" style="color:rgba(255,255,255,0.5); text-decoration:none; font-size:0.85rem;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.5)'">LinkedIn</a>
            <a href="https://x.com/JDFortressAI" target="_blank" rel="noopener" style="color:rgba(255,255,255,0.5); text-decoration:none; font-size:0.85rem;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.5)'">X / Twitter</a>
          </div>
        </div>

        <!-- Quick links -->
        <div>
          <h4 style="font-size:0.85rem; font-weight:600; text-transform:uppercase; letter-spacing:0.08em; color:rgba(255,255,255,0.4); margin:0 0 16px;">Quick Links</h4>
          <div style="display:flex; flex-direction:column; gap:10px;">
            <a href="/solutions/law-firms" style="color:rgba(255,255,255,0.6); text-decoration:none; font-size:0.9rem;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.6)'">Legal Teams</a>
            <a href="/labs" style="color:rgba(255,255,255,0.6); text-decoration:none; font-size:0.9rem;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.6)'">Labs</a>
            <a href="/about" style="color:rgba(255,255,255,0.6); text-decoration:none; font-size:0.9rem;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.6)'">About</a>
            <a href="/blog" style="color:rgba(255,255,255,0.6); text-decoration:none; font-size:0.9rem;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.6)'">Blog</a>
            <a href="/contact" style="color:rgba(255,255,255,0.6); text-decoration:none; font-size:0.9rem;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.6)'">Contact</a>
          </div>
        </div>

        <!-- Contact -->
        <div>
          <h4 style="font-size:0.85rem; font-weight:600; text-transform:uppercase; letter-spacing:0.08em; color:rgba(255,255,255,0.4); margin:0 0 16px;">Contact</h4>
          <div style="display:flex; flex-direction:column; gap:10px;">
            <a href="mailto:contact@jdfortress.com" style="color:rgba(255,255,255,0.6); text-decoration:none; font-size:0.9rem;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.6)'">contact@jdfortress.com</a>
            <a href="tel:07401059732" style="color:rgba(255,255,255,0.6); text-decoration:none; font-size:0.9rem;" onmouseover="this.style.color='#fff'" onmouseout="this.style.color='rgba(255,255,255,0.6)'">07401 059732</a>
            <p style="color:rgba(255,255,255,0.6); font-size:0.9rem; margin:0;">Harpenden, Hertfordshire, UK</p>
          </div>
        </div>
      </div>

      <div style="border-top:1px solid rgba(255,255,255,0.08); padding-top:24px; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:12px;">
        <p style="color:rgba(255,255,255,0.3); font-size:0.85rem; margin:0;">Â© 2026 JD Fortress AI Ltd. All rights reserved.</p>
        <p style="color:rgba(255,255,255,0.3); font-size:0.85rem; margin:0;">ðŸ‡¬ðŸ‡§ UK Based Â· AWS Activate Partner</p>
      </div>
    </div>
  </footer>

  <style>
    @media (max-width: 768px) {
      .desktop-nav { display: none !important; }
      #menu-btn { display: block !important; }
    }
    .dropdown-wrap:hover .dropdown { display: block !important; }
  </style>

  <script>
    function toggleMenu() {
      const menu = document.getElementById('mobile-menu');
      if (menu) {
        menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
      }
    }
    // @ts-ignore
    window.toggleMenu = toggleMenu;
  </script>

</body>
</html>
